Small changes to design and updating libraries.
